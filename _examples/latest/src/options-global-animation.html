---
title: Animation
date: 2019-05-14
categories: ["latest","options"]
order: 315
---
<p>
	애니메이션을 위한 설정입니다.<br>
	차트 종류에 따라 다른 옵션이 제공됩니다.
</p>
<hr>
<!-- Options -->
<h4>Options</h4>
<div class="row options">
	<ul>
		<li>
			<h6><code>global.animation.show</code></h6>
			<p><label><input type="checkbox" id="chkAnimation" checked>애니메이션 적용 여부를 설정합니다.</label></p>
			<p><code>global.animation.show = true/false</code></p>
		</li>
		<li>
			<h6><code>global.animation.type</code></h6>
			<p>애니메이션 타입을 설정합니다.</p>
			<p id="typeBars" class="none" style="display: block;">
				<select name="aniType">
					<option value="rise">rise (Default)</option>
					<option value="fill">fill</option>
					<option value="mixed">mixed</option>
					<option value="fade">fade</option>
				</select>
				<label>(bar, bar.rotated, stackbar, stackbar 100%)</label>
			</p>
			<p id="typeLines" class="none" style="display: none;">
				<select name="aniType">
					<option value="rise">rise (Default)</option>
					<option value="fill">fill</option>
					<option value="fade">fade</option>
				</select>
				<label>(line, spline, step, area, stackarea, stackarea 100%, radar)</label>
			</p>
			<p id="typeBubble" class="none" style="display: none;">
				<select name="aniType">
					<option value="pop">pop (Default)</option>
					<option value="fade">fade</option>
				</select>
				<label>(bubble, scatter plot)</label>
			</p>
			<p id="typeArcs" class="none" style="display: none;">
				<select name="aniType">
					<option value="fan">fan (Default)</option>
					<option value="circle">circle</option>
					<option value="fade">fade</option>
				</select>
				<label>(pie, donut, gauge)</label>
			</p>
			<p id="typeCombi" class="none" style="display: none;">
				<label>2015</label>
				<select name="aniType" data-key="2015">
					<option value="rise">rise (Default)</option>
					<option value="fill">fill</option>
					<option value="fade">fade</option>
				</select>
				<label>2016</label>
				<select name="aniType" data-key="2016">
					<option value="rise">rise (Default)</option>
					<option value="fill">fill</option>
					<option value="mixed">mixed</option>
					<option value="fade">fade</option>
				</select>
				<label>2017</label>
				<select name="aniType" data-key="2017">
					<option value="rise">rise (Default)</option>
					<option value="fill">fill</option>
					<option value="fade">fade</option>
				</select>				
			</p>
		</li>
		<li>
			<h6><code>global.animation.delay</code></h6>
			<p><label>애니메이션 효과가 완료되기까지의 시간을 설정합니다. (밀리초단위)</label></p>
			<p><input type="text" id="txtDelay" value="500" class="w-short"></p>
		</li>
		<li>
			<h6><code>global.animation.ease</code></h6>
			<p><label>애니메이션 가속도 효과를 설정합니다.</label></p>
			<p>
				<select id="ease">
					<option value="linear">linear (Default)</option>
					<option value="back">back</option>
					<option value="bounce">bounce</option>
					<option value="circle">circle</option>
					<option value="cubic">cubic</option>
					<option value="elastic">elastic</option>
					<option value="exp">exp</option>
					<option value="poly">poly</option>
					<option value="quad">quad</option>
					<option value="sin">sin</option>
				</select>			
			</p>
		</li>
	</ul>
</div>
<!-- Example -->
<h4>Example</h4>
{% include_relative select_chart.html chart_type=site.data.chart.all def_chart="bar" %}
<p id="chartWrap1" class="chartWrap"></p>
<!-- Code -->
<h4>Code</h4>
<p>{% highlight javascript %}
var chart = sb.chart.render("#chartWrap1", {
    global: {
        animation: {
            show: true
        }
    },
    data: {
        type: "bar",
        columns: [
            ["2015",3.51,4.6,3.43,7.96,3.37,5.83,0.35,3.23,-0.09,4.47,2.21,1.13,0.77,0.35,0.92,2.65,1.64,8.08],
            ["2016",0.71,2.14,3.18,-1.84,0.79,0.35,0.28,0.44,0.79,0.84,1.33,-0.7,-1.51,0.09,1.05,-1.66,-0.58,4.63],
            ["2017",1.48,3.64,2.35,1.29,1.42,1.34,1.51,-1.08,4.29,1.67,2.4,-0.36,-0.53,1.98,2.23,-0.9,-1.62,1.66]
        ]
    }
});

{% endhighlight %}</p>
<!-- Script -->
<script>
var chart = sb.chart.render("#chartWrap1", {
	global: {
		animation: {
			show: true
		}
	},
	data: {
		type: "bar",
		columns: [
			["2015",3.51,4.6,3.43,7.96,3.37,5.83,0.35,3.23,-0.09,4.47,2.21,1.13,0.77,0.35,0.92,2.65,1.64,8.08],
			["2016",0.71,2.14,3.18,-1.84,0.79,0.35,0.28,0.44,0.79,0.84,1.33,-0.7,-1.51,0.09,1.05,-1.66,-0.58,4.63],
			["2017",1.48,3.64,2.35,1.29,1.42,1.34,1.51,-1.08,4.29,1.67,2.4,-0.36,-0.53,1.98,2.23,-0.9,-1.62,1.66]
		]
	}
});

var aniType = document.getElementsByName("aniType");

document.getElementById("chkAnimation").onchange = function() {
	if(this.checked) {
		document.getElementById("txtDelay").disabled = false;
		document.getElementById("ease").disabled = false;
		for(var i = 0; i < aniType.length; i++)
			aniType[i].disabled = false;
	} else {
		document.getElementById("txtDelay").disabled = true;
		document.getElementById("ease").disabled = true;
		for(var i = 0; i < aniType.length; i++)
			aniType[i].disabled = true;
	}

	chart.global().animation.show = this.checked;
	chart.render();
}

document.getElementById("txtDelay").onchange = function() {
	chart.global().animation.delay = this.value;
	chart.render();
}

init();

document.getElementById("selCharts").onchange = function() {
	hide();
	changeChart(this.value);
	setChart(this.value);
}

for(var i = 0; i < aniType.length; i++) {
	aniType[i].onchange = function() {
		if(this.getAttribute("data-key")) changeTypes(this.getAttribute("data-key"), this.value)
		else changeType(this.value);
	}
}

document.getElementById("ease").onchange = function() {
	chart.global().animation.ease = this.value;
	chart.render();
}

function init() {
	hide();

	if(chart)
		setChart(chart.data().type);
}

function hide() {
	var el = document.getElementsByClassName("none");
	for(var i = 0; i < el.length; i++)
		el[i].style.display = "none";
}

function setChart(value) {
	switch(value) {
		case "bar":
		case "bar.rotated":
		case "stackbar":
		case "stackbar.rotated":
		case "stackbar.100":
		case "stackbar.100.rotated":
			changeDefaultType(document.getElementById("typeBars"));
			break;
		case "line":
		case "spline":
		case "step":
		case "area":
		case "stackarea":
		case "stackarea.100":
		case "radar":
			changeDefaultType(document.getElementById("typeLines"));
			break;
		case "bubble":
		case "scatter":
			changeDefaultType(document.getElementById("typeBubble"));
			break;
		case "pie":
		case "donut":
		case "gauge":
			changeDefaultType(document.getElementById("typeArcs"));
			break;
		case "combination":
			document.getElementById("typeCombi").style.display = "";
			var type = document.getElementById("typeCombi").querySelectorAll("[name=aniType]");
			
			for(var i = 0; i < type.length; i++) { 				
				type[i][0].selected = true;
				changeTypes(type[i].getAttribute("data-key"), type[i].value)
			}			
			break;
	}
}

function changeDefaultType(parent) {
	parent.style.display = "";
	parent.querySelector("[name=aniType]")[0].selected = true;

	changeType(parent.querySelector("[name=aniType]").value);
}

function changeType(value) {
	chart.global().animation.type = value;
	chart.render();
}

function changeTypes(key, value) {
	if(!chart.global().animation.types) chart.global().animation.types = {};
	chart.global().animation.types[key] = value;
	chart.render();
}
</script>
